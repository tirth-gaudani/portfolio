---
import BaseLayout from '../../layouts/BaseLayout.astro';
import CardArrow from '../../components/CardArrow.astro';
import { siteConfig } from '../../data/siteConfig';

const pageTitle = `Contact - ${siteConfig.name} | Get in Touch`;
const pageDescription = `Contact ${siteConfig.name} for web development projects, collaborations, and freelance work. Get in touch for React, Node.js, and full-stack development services.`;

const contactSchema = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": `Contact ${siteConfig.name}`,
  "description": pageDescription,
  "url": `${siteConfig.url}/gridxlight/contact`,
  "mainEntity": {
    "@type": "Person",
    "name": siteConfig.name,
    ...(siteConfig.contact.emails[0] ? { "email": siteConfig.contact.emails[0] } : {}),
    ...(siteConfig.contact.phones[0] ? { "telephone": siteConfig.contact.phones[0] } : {}),
    "address": {
      "@type": "PostalAddress",
      ...siteConfig.contact.address
    }
  }
};
---

<BaseLayout 
  title={pageTitle} 
  description={pageDescription}
  structuredData={contactSchema}
>
  <main class="gridx-main page-full">

    <h1 class="page-title">
      <span class="star-icon">✸</span>CONTACT<span class="star-icon">✸</span>
    </h1>

    <div class="contact-grid">
      <section class="contact-info" aria-label="Contact Information">
        {siteConfig.contact.emails.length > 0 && (
          <div class="contact-section">
            <div class="contact-icon"><i class="fas fa-envelope" aria-hidden="true"></i></div>
            <h4 class="contact-heading">MAIL ME</h4>
            {siteConfig.contact.emails.map((email) => (
              <a href={`mailto:${email}`} class="contact-link">{email}</a>
            ))}
          </div>
        )}

        {siteConfig.contact.phones.length > 0 && (
          <div class="contact-section">
            <div class="contact-icon"><i class="fas fa-phone" aria-hidden="true"></i></div>
            <h4 class="contact-heading">CALL ME</h4>
            {siteConfig.contact.phones.map((phone) => (
              <a href={`tel:${phone.replace(/\s+/g, '')}`} class="contact-link">{phone}</a>
            ))}
          </div>
        )}

        <div class="contact-section">
          <div class="contact-icon"><i class="fas fa-map-marker-alt" aria-hidden="true"></i></div>
          <h4 class="contact-heading">LOCATION</h4>
          <p class="contact-address">
            {siteConfig.contact.locationLines.map((line) => (
              <>
                {line}<br />
              </>
            ))}
          </p>
        </div>

        <div class="contact-section">
          <h4 class="contact-heading">SOCIAL INFO</h4>
          <div class="contact-social">
            <a href={siteConfig.social.linkedin} target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="LinkedIn">
              <i class="fab fa-linkedin-in" aria-hidden="true"></i>
            </a>
            <a href={siteConfig.social.github} target="_blank" rel="noopener noreferrer" class="social-icon" aria-label="GitHub">
              <i class="fab fa-github" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </section>

      <section class="contact-form-card" aria-label="Contact Form">
        <div class="form-header">
          <span class="rotating-star">✦</span>
          <h2 class="form-title">Let's work <span>together.</span></h2>
        </div>

        <form class="contact-form" id="contactForm" action="#" method="POST">
          <div class="form-group">
            <input 
              type="text" 
              id="name" 
              name="name" 
              placeholder="Name *" 
              required
              autocomplete="name"
              aria-label="Your name"
            />
          </div>
          <div class="form-group">
            <input 
              type="email" 
              id="email" 
              name="email" 
              placeholder="Email *" 
              required
              autocomplete="email"
              aria-label="Your email"
            />
          </div>
          <div class="form-group">
            <input 
              type="text" 
              id="subject" 
              name="subject" 
              placeholder="Your Subject *" 
              required
              aria-label="Subject"
            />
          </div>
          <div class="form-group">
            <textarea 
              id="message" 
              name="message" 
              placeholder="Your Message *" 
              rows="5" 
              required
              aria-label="Your message"
            ></textarea>
          </div>
          <button type="submit" class="submit-btn">
            Send Message
            <CardArrow />
          </button>
        </form>
      </section>
    </div>

  </main>
</BaseLayout>

<script is:inline>
  document.getElementById('contactForm')?.addEventListener('submit', function(e) {
    e.preventDefault();
    alert('Thank you for your message! I will get back to you soon.');
    this.reset();
  });
</script>
